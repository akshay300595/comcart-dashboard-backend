pipeline {
    agent any

    // Iske bina "Build with Parameters" ka option nahi dikhega
    parameters {
        string(name: 'BRANCH_NAME', defaultValue: 'master', description: 'Add branch name to deploy comcart dashboard backend code?')
    }

    stages {
        stage('Checkout Code') {
            steps {
                // Ye line tumhari di hui branch ko hi pull karegi
                git branch: "${params.BRANCH_NAME}", 
                    url: 'https://github.com/akshay300595/comcart-dashboard-backend.git'
            }
        }

        stage('Deploying File') {
            steps {
                echo "Deploying branch: ${params.BRANCH_NAME}"
                
                // Folder banao aur file copy karo
                sh 'mkdir -p /tmp/my-test-web'
                sh 'cp index.html /tmp/my-test-web/'
                
                echo "Success! File /tmp/my-test-web/index.html par bhej di gayi hai."
            }
        }
    }
}